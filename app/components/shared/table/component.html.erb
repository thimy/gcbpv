<% if rows.blank? && empty_state_with_header.blank? %>
  <%= empty_state %>
<% else %>
  <%= content_tag "table", class: @css_classes, **@options do %>
    <%= header %>
    <tbody>
      <% if rows.present? %>
        <% rows.each do |row| %>
          <%= row %>
        <% end %>
      <% else %>
        <tr><%= empty_state_with_header %></tr>
      <% end %>
    </tbody>
    <%= footer %>
  <% end %>
  <%= pagination %>
<% end %>
